(window["webpackJsonpcontact-manager"]=window["webpackJsonpcontact-manager"]||[]).push([[0],{119:function(e,t,n){e.exports=n(176)},124:function(e,t,n){},125:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),l=(n(124),n(29)),u=(n(125),n(217)),s=n(216),i=n(13),d=n(44),m=n(30),p=n(92),f=n(93),h=n(108),g=n(36),v=n(32),b=n(72),E=n.n(b),C=n(95),y=n(218),x=n(220),O=n(43),j=n(70),w=n.n(j),T=n(100),k=n.n(T),A=n(69),N=n.n(A),R=n(98),D=n.n(R),S=n(99),_=n.n(S);function W(){var e=Object(l.a)(["\n\tfont-size: 14px;\n\t","}\n"]);return W=function(){return e},e}var H=v.a.span(W(),function(e){return"error"===e.type?"color: #f50057":"color: #00a152"}),q=function(e){return r.a.createElement(H,{type:e.type},e.value)},I=n(3),L=n.n(I);function P(){var e=Object(l.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n"]);return P=function(){return e},e}var z=v.a.div(P()),F=function(e){var t=e.id,n=e.label,a=e.name,c=e.value,o=e.errors;return r.a.createElement(z,null,r.a.createElement(y.a,{id:t,label:n,name:a,value:c,margin:"normal",autoComplete:"none",onChange:e.changeData(a),required:!0}),o[a].length>0&&r.a.createElement(q,{value:o[a],type:"error"}))},G=Object(O.makeStyles)(function(e){return{root:{display:"flex"},formControl:{marginTop:"30px"},group:{margin:e.spacing(1,0)}}});F.propTypes={name:L.a.string.isRequired,errors:L.a.object.isRequired,changeData:L.a.func.isRequired,value:L.a.string.isRequired};var J=function(e){var t=G(),n=e.name,a=e.errors,c=e.value;return r.a.createElement("div",{className:t.root},r.a.createElement(D.a,{component:"fieldset",className:t.formControl},r.a.createElement(_.a,{component:"legend"},"Gender *"),r.a.createElement(k.a,{"aria-label":"gender",name:"gender",className:t.group,value:c,onChange:e.changeData("gender")},r.a.createElement(N.a,{value:"female",control:r.a.createElement(w.a,null),label:"Female"}),r.a.createElement(N.a,{value:"male",control:r.a.createElement(w.a,null),label:"Male"})),a[n].length>0&&r.a.createElement(q,{value:a[n],type:"error"})))},B=n(71),M=n(25);function U(e,t,n){return{type:"ADD_CONTACT_WATCHER",payload:e,resolve:t,reject:n}}function X(e){return{type:"CONTACT_LIST_WATCHER",payload:e}}function Z(e){return{type:"UPDATE_LIST_WATCHER",payload:e}}function $(e,t,n){return{type:"DELETE_CONTACT_WATCHER",payload:e,resolve:t,reject:n}}function V(){var e=Object(l.a)(["\n\tpadding: 20px 0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n"]);return V=function(){return e},e}function K(){var e=Object(l.a)(["\n\tmargin: 10px 0;\n\tdisplay: flex; \n\tflex-direction: column;\n"]);return K=function(){return e},e}var Q=v.a.div(K()),Y=v.a.div(V()),ee=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).getRegions=function(e){return e?e[2].split("|").map(function(e){var t=e.split("~"),n=Object(i.a)(t,2),a=n[0];n[1];return a}):[]},n.getDefaultContact=function(){return{name:"",address:"",phone:"",email:"",gender:"",country:"",region:"",note:""}},n.updateError=function(e,t){var a=n.state.errors,r="",c=e.length;switch(t){case"name":r=c<3||c>20?"Name must be min 3 characters or max 20 long!":"";break;case"address":r=c<3||c>100?"Address must be min 3 characters or max 100 long!":"";break;case"phone":r=c<10||c>10?"Enter valid 10 digit mobile no":"";break;case"email":r=B.validEmailRegex.test(e)?"":"Email is not valid!";break;case"gender":r=c<4?"Please select gender":"";break;case"country":r=c<1?"Select country":"";break;case"region":r=c<1?"Select region":"";break;case"note":r=c<3||c>20?"Note must be min 3 characters or max 20 long! ":""}a[t]=r;var o=n.state.contact;o[t]=e,n.setState({errors:a,contact:o,dirty:!0})},n.handleChange=function(e){return function(t){t.preventDefault(),n.updateError(t.target.value,e)}},n.handleSubmit=function(){Object.keys(n.getDefaultContact()).forEach(function(e){n.updateError(n.state.contact[e],e)}),n.setState({newRecordAdded:!1}),Object(B.validateForm)(n.state.errors,n.state.dirty)?new Promise(function(e,t){n.props.addContactWatcher(n.state.contact,e,t)}).then(function(){n.setState({newRecordAdded:!0}),n.clearContact()}).catch(function(e){console.log(e)}):console.error("Invalid Form")},n.clearContact=function(){n.setState({contact:n.getDefaultContact(),errors:n.getDefaultContact()})},n.state={contact:n.getDefaultContact(),errors:n.getDefaultContact(),dirty:!1},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.contactListWatcher({})}},{key:"render",value:function(){var e=this.state.contact,t=e.name,n=e.address,a=e.phone,c=e.email,o=e.gender,l=e.country,u=e.region,s=e.note,i=this.state,d=i.errors,m=i.newRecordAdded;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(F,{id:"standard-name",label:"Name",name:"name",value:t,errors:d,changeData:this.handleChange}),r.a.createElement(F,{id:"standard-address",label:"Address",name:"address",value:n,errors:d,changeData:this.handleChange}),r.a.createElement(F,{id:"standard-phone",label:"Phone",name:"phone",value:a,errors:d,changeData:this.handleChange}),r.a.createElement(F,{id:"standard-email",label:"Email",name:"email",value:c,errors:d,changeData:this.handleChange}),r.a.createElement("div",null,r.a.createElement(J,{name:"gender",errors:d,changeData:this.handleChange,value:o}),r.a.createElement(Q,null,r.a.createElement(y.a,{id:"country",label:"Country",value:l,select:!0,required:!0,onChange:this.handleChange("country")},C.a.map(function(e,t){return r.a.createElement(x.a,{key:t,value:e},e[0])})),d.country.length>0&&r.a.createElement(q,{value:d.country,type:"error"}),r.a.createElement(y.a,{id:"region",label:"Region",value:u,select:!0,required:!0,onChange:this.handleChange("region")},this.getRegions(l).map(function(e,t){return r.a.createElement(x.a,{key:t,value:e},e)})),d.region.length>0&&r.a.createElement(q,{value:d.region,type:"error"})),r.a.createElement(F,{id:"standard-note",label:"Note",name:"note",value:s,required:!0,errors:this.state.errors,changeData:this.handleChange}),r.a.createElement(Y,null,r.a.createElement(E.a,{variant:"contained",color:"secondary",component:"span",onClick:this.clearContact},"Clear"),r.a.createElement(E.a,{variant:"contained",color:"primary",component:"span",onClick:this.handleSubmit},"Submit")),m&&r.a.createElement(q,{value:"New record added successfully!",type:"success"})))))}}]),t}(a.Component),te=Object(g.b)(null,function(e){return Object(M.b)({addContactWatcher:U,contactListWatcher:X},e)})(ee),ne=n(103),ae=n.n(ne),re=n(105),ce=n.n(re),oe=n(101),le=n.n(oe),ue=n(104),se=n.n(ue),ie=n(73),de=n.n(ie),me=n(102),pe=n.n(me),fe=n(215),he=Object(O.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(le.a),ge=Object(O.withStyles)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(de.a),ve=Object(O.withStyles)(function(e){return{root:{padding:"5px 0",minWidth:"35px",borderRadius:"10px"}}})(fe.a),be=Object(O.makeStyles)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700}}});F.propTypes={tags:L.a.array.isRequired,records:L.a.array.isRequired};var Ee=Object(g.b)(null,function(e){return Object(M.b)({deleteContactWatcher:$},e)})(function(e){var t=be(),n=e.tags,a=e.records;return r.a.createElement(pe.a,{className:t.root},r.a.createElement(ae.a,{className:t.table},r.a.createElement(se.a,null,r.a.createElement(de.a,null,n&&n.map(function(e,t){return r.a.createElement(he,{key:t},e)}))),r.a.createElement(ce.a,null,a&&a.map(function(t,n){return r.a.createElement(ge,{key:n},r.a.createElement(he,{component:"th",scope:"row"},t.name),r.a.createElement(he,null,t.address),r.a.createElement(he,null,t.phone),r.a.createElement(he,null,t.email),r.a.createElement(he,null,t.gender),r.a.createElement(he,null,"".concat(t.country[0]," - ").concat(t.region)),r.a.createElement(he,null,t.note),r.a.createElement(he,null,r.a.createElement(ve,{variant:"contained",color:"secondary",onClick:function(){return function(t){console.log("deleting item"),new Promise(function(n,a){e.deleteContactWatcher({index:t},n,a)}).then(function(){}).catch(function(e){console.log(e)})}(n)}},"X")))}))))});function Ce(){var e=Object(l.a)(["\n  padding: 20px;\n  margin: 10px;\n"]);return Ce=function(){return e},e}function ye(){var e=Object(l.a)(["\n  padding: 20px;\n  margin: 10px;\n  border: 1px solid #ccc;\n"]);return ye=function(){return e},e}var xe=Object(s.a)(function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}),Oe=v.a.div(ye()),je=Object(v.a)(Ee)(Ce()),we=Object(g.b)(function(e){return{contacts:e.contact.list}},null)(function(e){var t=xe();return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:t.root},r.a.createElement(u.a,{container:!0,spacing:2},r.a.createElement(u.a,{item:!0,xs:12,sm:4},r.a.createElement(Oe,null,r.a.createElement("h1",null,"Add new contact"),r.a.createElement(te,null))),r.a.createElement(u.a,{item:!0,xs:12,sm:8},r.a.createElement(je,{tags:["Name","Address","Phone","Email","Gender","Country","Note",""],records:e.contacts})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=n(107),ke=n(106),Ae=n(219),Ne=Object(Ae.a)({UPDATE_LIST_WATCHER:function(e,t){var n=t.payload;return Object.assign({},e,{list:n})},CONTACT_LIST_WATCHER:function(e,t){var n=t.payload;return Object.assign({},e,{list:n})}},{list:[]}),Re=Object(M.c)({contact:Ne}),De=n(15),Se=n.n(De),_e=n(20),We=function(e){return JSON.parse(localStorage.getItem(e))},He=function(e,t){localStorage.setItem(e,JSON.stringify(t))};function qe(){return We("contacts")||[]}function Ie(e){var t=We("contacts")||[];return t.push(e),He("contacts",t),t}function Le(e){return[]}function Pe(e){var t=We("contacts")||[];return t.splice(e,1),He("contacts",t),t}function ze(e){return[]}var Fe=Se.a.mark(Ke),Ge=Se.a.mark(Qe),Je=Se.a.mark(Ye),Be=Se.a.mark(et),Me=Se.a.mark(tt),Ue=Se.a.mark(nt),Xe=Se.a.mark(at),Ze=Se.a.mark(rt),$e=Se.a.mark(ct),Ve=Se.a.mark(ot);function Ke(e){var t;return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_e.b)(qe);case 3:return t=e.sent,e.next=6,Object(_e.c)(Z(t));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},Fe,null,[[0,8]])}function Qe(e){var t;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_e.b)(Ie,e.payload);case 3:return t=n.sent,n.next=6,Object(_e.c)(X(t));case 6:e.resolve(),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),e.reject(n.t0);case 13:case"end":return n.stop()}},Ge,null,[[0,9]])}function Ye(e){var t,n;return Se.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(_e.b)(Le,e);case 3:return t=a.sent,n=t.data,a.next=7,Object(_e.c)(X(n));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}},Je,null,[[0,9]])}function et(e){var t;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_e.b)(ze,e.payload);case 3:t=n.sent,t.data,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}},Be,null,[[0,7]])}function tt(e){var t;return Se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(_e.b)(Pe,e.payload.index);case 3:return t=n.sent,n.next=6,Object(_e.c)(X(t));case 6:e.resolve(),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),e.reject(n.t0);case 13:case"end":return n.stop()}},Me,null,[[0,9]])}function nt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.d)("CONTACT_LIST_WATCHER",Ke);case 2:case"end":return e.stop()}},Ue)}function at(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.d)("ADD_CONTACT_WATCHER",Qe);case 2:case"end":return e.stop()}},Xe)}function rt(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.d)("EDIT_CONTACT_WATCHER",Ye);case 2:case"end":return e.stop()}},Ze)}function ct(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.d)("GET_CONTACT_WATCHER",et);case 2:case"end":return e.stop()}},$e)}function ot(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.d)("DELETE_CONTACT_WATCHER",tt);case 2:case"end":return e.stop()}},Ve)}var lt=Se.a.mark(ut);function ut(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.a)([nt(),at(),rt(),ct(),ot()]);case 2:case"end":return e.stop()}},lt)}var st=Object(Te.a)(),it=Object(M.e)(Re,Object(M.a)(st,ke.logger));st.run(ut),o.a.render(r.a.createElement(g.a,{store:it},r.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},71:function(e,t){var n=RegExp(/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@(([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);e.exports={validateForm:function(e,t){if(t){var n=!0;return Object.values(e).forEach(function(e){console.log(e),e.length>0&&(n=!1)}),n}return!1},validEmailRegex:n}}},[[119,1,2]]]);
//# sourceMappingURL=main.b67d61a8.chunk.js.map